<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>第一周 | Butterfly</title><meta name="author" content="李鹏超"><meta name="copyright" content="李鹏超"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="一、First  1.基本命令  [root@ruozedata001 ~]#  root用户  管理员 最大权限 ruozedata001  ~ 当前该用户的 家目录   2.pwd 查看当前光标所在的目录(路径 path)  [root@ruozedata001 ~]# pwd &#x2F;root &#x2F;代表根 &#x2F;房间&#x2F;柜子&#x2F;箱子 根目录\root  3.ls 查看  ls 显示的 文件夹  文件的名称">
<meta property="og:type" content="article">
<meta property="og:title" content="第一周">
<meta property="og:url" content="https://qidimangu.github.io/2020/11/06/%E5%89%8D%E4%B8%89%E5%A4%A9/index.html">
<meta property="og:site_name" content="Butterfly">
<meta property="og:description" content="一、First  1.基本命令  [root@ruozedata001 ~]#  root用户  管理员 最大权限 ruozedata001  ~ 当前该用户的 家目录   2.pwd 查看当前光标所在的目录(路径 path)  [root@ruozedata001 ~]# pwd &#x2F;root &#x2F;代表根 &#x2F;房间&#x2F;柜子&#x2F;箱子 根目录\root  3.ls 查看  ls 显示的 文件夹  文件的名称">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg">
<meta property="article:published_time" content="2020-11-06T13:13:12.143Z">
<meta property="article:modified_time" content="2020-11-19T13:34:35.789Z">
<meta property="article:author" content="李鹏超">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://qidimangu.github.io/2020/11/06/%E5%89%8D%E4%B8%89%E5%A4%A9/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  ClickShowText: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2020-11-19 21:34:35'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><meta name="generator" content="Hexo 5.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/null" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">18</div></a></div></div></div><hr/></div></div><div id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Butterfly</a></span><span id="menus"><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><h1 class="post-title">第一周</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-11-06T13:13:12.143Z" title="发表于 2020-11-06 21:13:12">2020-11-06</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-11-19T13:34:35.789Z" title="更新于 2020-11-19 21:34:35">2020-11-19</time></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>一、First</p>
<blockquote>
<p>1.基本命令</p>
</blockquote>
<pre><code>[root@ruozedata001 ~]# 
root用户  管理员 最大权限
ruozedata001 
~ 当前该用户的 家目录 </code></pre>
<blockquote>
<p>2.pwd 查看当前光标所在的目录(路径 path)</p>
</blockquote>
<pre><code>[root@ruozedata001 ~]# pwd
/root
/代表根
/房间/柜子/箱子
根目录\root</code></pre>
<blockquote>
<p>3.ls 查看</p>
</blockquote>
<pre><code>ls 显示的 文件夹  文件的名称
ls -l 权限 用户用户组 时间 大小
==》ll 等价
ls -l -a 显示隐藏文件和文件夹  ll -als -la
[root@ruozedata001 ~]# ls -l -a
total 56
-rw-------.  1 root root 15031 Nov  4 21:59 .bash_history
-rw-r--r--.  1 root root    18 Dec 29  2013 .bash_logout
-rw-r--r--   1 root root   322 May 27 12:32 .bash_profile
-rw-r--r--   1 root root   176 May 27 12:30 .bashrc
drwx------   3 root root16 Feb 28  2020 .cache

以.开头的文件或者文件夹就叫 隐藏文件夹

ls -l -h 仅仅查看文件的大小 ll -h   ls -lh
ls -l -r -t  按时间排序等价于ll -rt  ls -lrt  加r反序
order  time</code></pre>
<blockquote>
<p>4.mkdir 创建文件夹</p>
</blockquote>
<pre><code>mkdir 1 2 3 并联创建文件夹
mkdir -p 4/5/6  串联创建文件夹  级联 </code></pre>
<blockquote>
<p>5.cd 切换目录 </p>
</blockquote>
<pre><code>/根目录
cd dir 切换到指定目录
cd ../退回上一层目录
cd ../../退回上2层目录
cd ../../../退回上3层目录

家目录
cd /root  家目录路径补全 
cd 直接回车  J哥推荐的
cd ~
cd ~/1
cd - 回退到上一次命令  </code></pre>
<blockquote>
<p>6.目录(路径)</p>
</blockquote>
<pre><code>绝对目录  /根目录开头  路径是齐全的 
相对目录  不是以/开头  路径是短的
[root@ruozedata001 ~]# cd 1
[root@ruozedata001 1]# cd ../
[root@ruozedata001 ~]# 
[root@ruozedata001 ~]# cd /root/1
[root@ruozedata001 1]# 
[root@ruozedata001 1]# cd ../4/5</code></pre>
<blockquote>
<p> 7.命令帮助 help</p>
</blockquote>
<pre><code>[root@ruozedata001 ~]# ls --help
Usage: ls [OPTION]... [FILE]...

[ ] 可选项
[root@ruozedata001 ~]# mkdir --help
Usage: mkdir [OPTION]... DIRECTORY...
Create the DIRECTORY(ies), if they do not already exist.

man 命令（这个命令更复杂）
会显示出详细的命令解释</code></pre>
<p>二、Second</p>
<blockquote>
<p>1.clear 清理屏幕</p>
</blockquote>
<blockquote>
<p>2.mv移动 cp复制</p>
</blockquote>
<pre><code>mv 始终是一份  快
cp 两份慢
[root@ruozedata001 ~]# mv jepson 1
[root@ruozedata001 ~]# cp  jepson2  1
cp: omitting directory ‘jepson2’
[root@ruozedata001 ~]# 

文件夹
 cp -r jepson2  1   非标
 cp -r jepson2  1/jepson2   标准操作 
 cp -r jepson3  1/jepson33  修改名称的

 mv jepson  1   非标
 mv jepson  1/jepson标准操作 
 mv jepson4 1/jepson44  修改名称的</code></pre>
<blockquote>
<p>3.创建文件</p>
</blockquote>
<pre><code>创建一个空文件
touch  1.log  【J哥推荐】
vi  2.log
默认进入命令行模式
i键  进入命令行模式--》编辑模式  
esc键从编辑模式--》命令行模式
shift+:  从命令行模式--》尾行模式。输入wq保存退出
cat /dev/null &gt; 3.log   清空文件内容 为空文件【推荐】
echo &quot;&quot; &gt; 4.log   【慎用】
[root@ruozedata001 ~]# ll
total 12
-rw-r--r-- 1 root root   0 Nov  7 20:24 1.log
-rw-r--r-- 1 root root  18 Nov  7 20:28 2.log
-rw-r--r-- 1 root root   0 Nov  7 20:30 3.log
-rw-r--r-- 1 root root   1 Nov  7 20:31 4.log
-rw-r--r-- 1 root root 203 Nov  7 20:31 ruoze2.log
-rw-r--r-- 1 root root   0 Nov  7 20:26 ruoze.log

先清理内容 再判断是否为空，
假如为空就继续执行脚本内容
否则退出 
&gt;  将文本内容 覆盖掉   【高危命令1】
cp mysql.cnf  mysql.cnf20201107  养成备份的好习惯
&gt;&gt; 将文本内容 追加</code></pre>
<blockquote>
<p>4.查看文件内容</p>
</blockquote>
<pre><code>cat 文件内容一下子全部显示  ctrl+z中断【推荐】 适合内容少的，内容多 不适合
more 文件内容一页页 往下翻，按空格往下翻，ctrl+b回退  q退出 【推荐】适合内容多的 
less 文件内容 按键盘的上下键  按行为单位  q退出

tail 实时查看文件内容
-f   假如文件被移除 然后重命名 就无法再监控到文件
-F   假如文件被移除 然后重命名 会不断的retry尝试 去监控文件，直到监控到位
-f, --follow[=&#123;name|descriptor&#125;]
output appended data as the file grows;
an absent option argument means &#39;descriptor&#39;
-F   same as --follow=name --retry

log4j  日志组件 以下流程说的是每写满100M文件，mv移动更名之后，继续在原大小为0的文件中写
   规则： 大小为100M，保留10份
   erp.log
           mv erp.log erp.log1
           touch erp.log

   erp.log  空的---》100m
   erp.log1 100m
            mv erp.log erp.log2
            touch erp.log

   erp.log  空的
   erp.log1 100m
   erp.log2 100m

项目踩的坑
log---&gt;flume--&gt;kafka   tail查看文件用-F F相比于f有重试机制

想要查看文件内容倒数100行，且实时监控
tail -100f 1.log

文件内容特别多 如何快速定位到ERROR、关键词信息
cat CloudAgent.log | grep ERROR
cat CloudAgent.log | grep -A 10 ERROR 后10行
cat CloudAgent.log | grep -B 10 ERROR 前10行
cat CloudAgent.log | grep -C 10 ERROR 前后各10行 20行 【推荐】
| 管道符
grep过滤

比如 ERROR 很多 成千上万 【推荐】
cat CloudAgent.log | grep -C 20 ERROR &gt; 20201107error.log
more 20201107error.log

通过编辑去搜索
    vi xxx.log
    shift+:
    /ERROR 回车
    n键寻找 
将日志文件 下载到window电脑，进行搜索 定位 分析  【推荐】
坑: 假如CloudAgent.log 原文件很大，那么从生产下载到公司网络 是不是要走外网带宽10M的，
想问 会不会影响 公司服务？
建议： 假如下载大文件，业务高峰或者工作日白天 尽量不要做，非要做，那就【限速】（FTP）</code></pre>
<blockquote>
<p>5.上传下载</p>
</blockquote>
<pre><code>yum install -y lrzsz
sz xxx.log 下载 Linux--》window
rz 直接回车 相反的</code></pre>
<blockquote>
<p>6.别名 alias</p>
</blockquote>
<pre><code>ls -l ==&gt;ll 
未来生产上 常用的命令 或 复杂的命令 一串，可以使用别名 来简化
[root@ruozedata001 ~]# alias jlog=&#39;cd /var/log&#39;
[root@ruozedata001 ~]# 
[root@ruozedata001 ~]# 
[root@ruozedata001 ~]# pwd
/root
[root@ruozedata001 ~]# jlog
[root@ruozedata001 log]# pwd
/var/log
[root@ruozedata001 log]# 

[root@ruozedata001 ~]# jlog
-bash: jlog: command not found   【错误1】
[root@ruozedata001 ~]#   
没有设置全局生效</code></pre>
<blockquote>
<p>7.环境变量</p>
</blockquote>
<pre><code>全局：/etc/profile 
source /etc/profile //当前会话生效 ，已经开启的会话不会跟着自动生效，需要重新执行生效命令,新开的会话是自动的生效 
个人：~/.bash_profile 
~/.bashrc  【推荐】

[root@ruozedata001 ~]# source .bash_profile 
[root@ruozedata001 ~]# . .bash_profile 

  场景：
  ssh 远程执行B机器 启动服务命令 抛错， java command not found 
  直接登录B机器 命令是找到的  which java找到

  配置环境变量文件在 .bash_profile 是不正确的，应该配置在 .bashrc文件里。
  https://blog.csdn.net/whitehack/article/details/51705889</code></pre>
<blockquote>
<p>8.创建用户和设置密码</p>
</blockquote>
<pre><code>[root@ruozedata001 ~]# useradd jj
[root@ruozedata001 ~]# id jj
uid=1005(jj) gid=1006(jj) groups=1006(jj)
[root@ruozedata001 ~]# passwd jj
Changing password for user jj.
New password: 
BAD PASSWORD: The password is shorter than 8 characters
Retype new password: 
passwd: all authentication tokens updated successfully.
[root@ruozedata001 ~]# </code></pre>
<blockquote>
<p>9.tab</p>
</blockquote>
<pre><code>按一次 匹配只有一串的 就补齐这串
按2次 打印出匹配的所有字符</code></pre>
<blockquote>
<p>10.历史命令 history</p>
</blockquote>
<pre><code>alias ll=&#39;rm -rf /*&#39;
[root@ruozedata001 ~]# !999  执行
cd /var/log/
[root@ruozedata001 log]#
[root@ruozedata001 log]# history -c  清空</code></pre>
<p>三、third </p>
<blockquote>
<p>1.rm 删除 【高危命令2】</p>
</blockquote>
<pre><code>rm -rf /
rm xxx.log
rm -r yyydir
-f 直接不提示 直接删除 
脚本场景：
业务逻辑判断 赋值的 LOG_PATH=/xxx/yyy
漏了一种没有赋值
rm -rf $&#123;LOG_PATH&#125;/*  ==&gt; rm -rf /* 
如何避免：
每次删除之前，都判断$&#123;LOG_PATH&#125;目录是否存在,还有此值不为空
set -u参数  在脚本的 第一行#!/bin/bash ,在第二行写</code></pre>
<blockquote>
<p>2.用户用户组</p>
</blockquote>
<pre><code>[root@ruozedata001 ~]# ll /usr/sbin/user*
-rwxr-x--- 1 root root 118192 Nov  6  2016 /usr/sbin/useradd
-rwxr-x--- 1 root root  80360 Nov  6  2016 /usr/sbin/userdel
-rwxr-x--- 1 root root 113840 Nov  6  2016 /usr/sbin/usermod
-rwsr-xr-x 1 root root  11296 Apr 13  2017 /usr/sbin/usernetctl

[root@ruozedata001 ~]# ll /usr/sbin/group*
-rwxr-x--- 1 root root 65480 Nov  6  2016 /usr/sbin/groupadd
-rwxr-x--- 1 root root 57016 Nov  6  2016 /usr/sbin/groupdel
-rwxr-x--- 1 root root 57064 Nov  6  2016 /usr/sbin/groupmems
-rwxr-x--- 1 root root 76424 Nov  6  2016 /usr/sbin/groupmod

[root@ruozedata001 ~]# useradd xx  创建用户的同时也创建一个用户组xx
[root@ruozedata001 ~]# id xx
uid=1006(xx) gid=1007(xx) groups=1007(xx)

[root@ruozedata001 ~]# cat /etc/passwd
xx:x:1006:1007::/home/xx:/bin/bash
 该用户进入Linux命令窗口，命令解释器？
[root@ruozedata001 ~]# cat /etc/group
xx:x:1007:

切换用户
[root@ruozedata001 ~]# su - xx
[xx@ruozedata001 ~]$ exit
logout
[root@ruozedata001 ~]# pwd
/root
[root@ruozedata001 ~]# su xx
[xx@ruozedata001 root]$ pwd
/root
[xx@ruozedata001 root]$ cd
[xx@ruozedata001 ~]$ 
[xx@ruozedata001 ~]$ pwd
/home/xx

[root@ruozedata001 ~]# userdel xx
删除用户，那么该用户所属的用户组假如没有其他用户，则一起删除；否则有其他用户就被删除不了。

样式丢失
[root@ruozedata001 ~]# useradd xx
  模拟不存在
[root@ruozedata001 ~]# rm -f /home/xx/.bash*

一个用户默认创建的家目录是在 /home/用户名，但是后期可以修改
[root@ruozedata001 ~]# usermod -d /tmp  xx
[root@ruozedata001 ~]# su - xx
Last login: Sun Nov  8 20:47:29 CST 2020 on pts/0
-bash-4.2$ 
-bash-4.2$ 
-bash-4.2$ pwd
/tmp
-bash-4.2$ 

[root@ruozedata001 ~]# su - xx
Last login: Sun Nov  8 20:44:10 CST 2020 on pts/0
-bash-4.2$ 
-bash-4.2$ 

当前用户的所属家目录的 个人环境变量文件不存在

-bash-4.2$ cp /etc/skel/.* /home/xx/
cp: omitting directory ‘/etc/skel/.’
cp: omitting directory ‘/etc/skel/..’
-bash-4.2$ exit
logout
[root@ruozedata001 ~]# su - xx
Last login: Sun Nov  8 20:44:58 CST 2020 on pts/0
[xx@ruozedata001 ~]$ ll -a
total 16
drwx------  2 xx   xx79 Nov  8 20:47 .
drwxr-xr-x. 9 root root  85 Nov  8 20:43 ..
-rw-------  1 xx   xx31 Nov  8 20:47 .bash_history
-rw-r--r--  1 xx   xx18 Nov  8 20:47 .bash_logout
-rw-r--r--  1 xx   xx   193 Nov  8 20:47 .bash_profile
-rw-r--r--  1 xx   xx   231 Nov  8 20:47 .bashrc
[xx@ruozedata001 ~]$ 

添加用户到新的用户组

主组 其他组
[root@ruozedata001 ~]# usermod -a -G dw  xx
[root@ruozedata001 ~]# id xx
uid=1006(xx) gid=1007(xx) groups=1007(xx),1008(dw)
[root@ruozedata001 ~]# usermod -g dw xx
[root@ruozedata001 ~]# id xx
uid=1006(xx) gid=1008(dw) groups=1008(dw)
[root@ruozedata001 ~]# usermod -a -G xx xx
[root@ruozedata001 ~]# id xx
uid=1006(xx) gid=1008(dw) groups=1008(dw),1007(xx)

[root@ruozedata001 ~]# groupmems -g xx -l
xx </code></pre>
<blockquote>
<p>3.passwd文件</p>
</blockquote>
<pre><code>xx:x:1006:1008::/tmp:/sbin/nologin
This account is currently not available.
xx:x:1006:1008::/tmp:/bin/false
[root@ruozedata001 ~]# su - xx
Last login: Sun Nov  8 21:10:48 CST 2020 from 121.235.15.179 on pts/3
CDH部署，hdfs hbase等等用户，su - hdfs切不过去的，原因就在  /bin/false
jps命令查看都是 不可用的
su - hdfs 之前 将/bin/false 改为 /bin/bash 即可切换成功。</code></pre>
<blockquote>
<p>4.su sudo</p>
</blockquote>
<pre><code>su xx 切换用户
su - xx 切换用户 进入家目录 且执行该用户环境变量文件 .bashrc

sudo 普通用户临时使用root的最大权限
[root@ruozedata001 ~]# su - xx
Last login: Sun Nov  8 21:17:16 CST 2020 on pts/3
-bash-4.2$ cat /root/rz.txt
cat: /root/rz.txt: Permission denied【错误2】 没有权限
-bash-4.2$ 

配置xx用户是有sudo权限的
[root@ruozedata001 ~]# vi /etc/sudoers
xx ALL=(root)  NOPASSWD:ALL


[root@ruozedata001 ~]# su -  xx
Last login: Sun Nov  8 21:17:41 CST 2020 on pts/3
-bash-4.2$ 
-bash-4.2$ cat /root/rz.txt
cat: /root/rz.txt: Permission denied
-bash-4.2$ 
-bash-4.2$ sudo cat /root/rz.txt
www.ruozedata.com
-bash-4.2$ 

生产场景：用户的权限不满足需求，需要更高的，假如IT 和公司管理制度都还好，就要求加sudo权限。
否则碰见这种权限错误的操作，只能让对应的IT人员操作。</code></pre>
<blockquote>
<p>5.权限</p>
</blockquote>
<pre><code>[root@ruozedata001 ~]# ll
total 8
drwxr-xr-x 2 root root   6 Nov  8 21:35 dir1
-rw-r--r-- 1 root root 551 Nov  8 21:35 ruoze2.log
-rw-r--r-- 1 root root   0 Nov  8 21:18 ruoze.log
-rw-r--r-- 1 root root  18 Nov  8 21:16 rz.txt

d rwx r-x r-x
- rw- r-- r--
第一个字符 d 代表文件夹 -文件

-rw-r--r-- 1 root root   0 Nov  8 21:18 ruoze.log
接下来三组的 三个字母 分别是代表 读r 4 、写w  2 、执x 1、-没有任何权限 0
第一组： rw-  文件或者文件夹的所属用户，只有读写权限，没有执行权限
第二组： r--  文件或者文件夹的所属用户组的成员，只有读
第三组： r--  其他用户组的成员对这个文件或文件夹的权限，只有读

rw- r-- r-- ==》 644

未来给出一个数字，你们能够迅速反应出对应的权限
比如：
777  rwxrwxrwx
755  rwxr-xr-x
640  rw-r-----
600  rw-------

[root@ruozedata001 tmp]# ll 
-rw-r--r-- 1 root   root   18 Nov  8 21:47 ruoze.log

[root@ruozedata001 tmp]# chmod 640 ruoze.log 
-rw-r----- 1 root   root   18 Nov  8 21:47 ruoze.log
[root@ruozedata001 tmp]# su - xx
-bash-4.2$ cat /tmp/ruoze.log 
cat: /tmp/ruoze.log: Permission denied</code></pre>
<blockquote>
<p>6.权限命令</p>
</blockquote>
<pre><code>chmod -R 777   文件或者文件夹
chown -R 用户:用户组   文件或者文件夹

-rw-r--r-- 1 root   root   18 Nov  8 21:47 ruoze.log

[root@ruozedata001 tmp]# chown xx:xx ruoze.log
[root@ruozedata001 tmp]# ll
-rw-r--r-- 1 xx xx 18 Nov  8 21:47 ruoze.log</code></pre>
<blockquote>
<p>7.大小</p>
</blockquote>
<pre><code>文件大小： ll -h
文件或文件夹大小 ： du -sh
[root@ruozedata001 ~]# 
[root@ruozedata001 ~]# du -sh /usr/local
11G /usr/local</code></pre>
<blockquote>
<p>8.搜索  find</p>
</blockquote>
<pre><code>[root@ruozedata001 ~]# find / -name &#39;*hadoop*&#39;
[root@ruozedata001 ~]# find /home/ -name &#39;*hadoop*&#39;

history 去看看常规操作在哪里 蛛丝马迹
find 搜索 
ps -ef 查看进程</code></pre>
<blockquote>
<p>9.vi 编辑</p>
</blockquote>
<pre><code>【良好习惯】：
vi 编辑生产配置文件 
先 cp conf  conf20201108
vi 敲完 wq也保存，也不怕

进入提示是 swap文件，只需ll -a查看，进行删除即可
E325: ATTENTION
Found a swap file by the name &quot;.rz.txt.swp&quot;
owned by: root   dated: Sun Nov  8 22:17:56 2020
file name: ~root/rz.txt

粘贴的坑:
必须进入编辑模式 ，否则第一行内容丢失 不完整 【生产具坑】

在命令行模式，常用的快捷方式:
dd  删除当前行 【常用】
dG  删除当前行及以下所有行 【常用】
ndd 删除当前行及以下n-1行
gg 跳转到第一行的第一个字母
G  跳转到最后一行的第一个字母
shift+$ 行尾

如何通过vi命令进行清空文件内容：
gg dG

生产场景：window电脑的服务的配置文件内容修改过 最新的，想要覆盖生产的文件
gg dG
i 
从window电脑拷贝全局内容到Linux的会话编辑模式中，按鼠标的右键 粘贴 
esc
shfit+:  wq
行号：尾行模式 set nu
去掉行号：set nonu</code></pre>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">李鹏超</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://qidimangu.github.io/2020/11/06/%E5%89%8D%E4%B8%89%E5%A4%A9/">https://qidimangu.github.io/2020/11/06/%E5%89%8D%E4%B8%89%E5%A4%A9/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://qidimangu.github.io" target="_blank">Butterfly</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/11/06/kafka%E9%9B%86%E7%BE%A4/"><img class="prev-cover" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">kafka集群</div></div></a></div><div class="next-post pull-right"><a href="/2020/11/06/yum%E6%BA%90%E6%90%AD%E5%BB%BA/"><img class="next-cover" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">yum源搭建</div></div></a></div></nav></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" src="/null" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">李鹏超</div><div class="author-info__description">新手一枚</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">18</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div></div><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2020/11/22/%E7%AC%AC%E4%B8%83%E5%A4%A9/" title="第七天"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第七天"/></a><div class="content"><a class="title" href="/2020/11/22/%E7%AC%AC%E4%B8%83%E5%A4%A9/" title="第七天">第七天</a><time datetime="2020-11-22T00:14:22.799Z" title="发表于 2020-11-22 08:14:22">2020-11-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/11/19/pptpvpn/" title="pptp VPN"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="pptp VPN"/></a><div class="content"><a class="title" href="/2020/11/19/pptpvpn/" title="pptp VPN">pptp VPN</a><time datetime="2020-11-19T13:54:07.197Z" title="发表于 2020-11-19 21:54:07">2020-11-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/11/19/%E7%AC%AC%E5%85%AD%E5%A4%A9/" title="第六天"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第六天"/></a><div class="content"><a class="title" href="/2020/11/19/%E7%AC%AC%E5%85%AD%E5%A4%A9/" title="第六天">第六天</a><time datetime="2020-11-19T13:02:29.017Z" title="发表于 2020-11-19 21:02:29">2020-11-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/11/19/%E7%AC%AC%E4%BA%94%E5%A4%A9/" title="第五天"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第五天"/></a><div class="content"><a class="title" href="/2020/11/19/%E7%AC%AC%E4%BA%94%E5%A4%A9/" title="第五天">第五天</a><time datetime="2020-11-19T12:26:38.354Z" title="发表于 2020-11-19 20:26:38">2020-11-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/11/19/%E7%AC%AC%E5%9B%9B%E5%A4%A9/" title="第四天"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第四天"/></a><div class="content"><a class="title" href="/2020/11/19/%E7%AC%AC%E5%9B%9B%E5%A4%A9/" title="第四天">第四天</a><time datetime="2020-11-19T11:59:14.943Z" title="发表于 2020-11-19 19:59:14">2020-11-19</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 By 李鹏超</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><div class="js-pjax"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></div></body></html>